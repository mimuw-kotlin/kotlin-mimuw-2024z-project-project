<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Edycja użytkowników</title>
  <link rel="stylesheet" type="text/css" href="./cssAdmin/styleAdmin.css">
</head>

<body th:with="STUDENTS_TABLE='studentsTable', TEACHERS_TABLE='teachersTable'">

<a href="/admin/controlPanel">Powrót</a>

<p th:if="${error} == 1">Błędne parametry w formularzu!</p>

<h1>Edytuj Uczniów</h1>

<p th:if="${error} == 2">Zmodyfikowałeś pole userType bądź index w formularzu ucznia, nie można go modyfikować!</p>

<button onclick=toggleTable("studentsTable")>Pokaż/Ukryj</button>

<br>

<form th:action="'/admin/editUser'" method="post">

<table th:id="${STUDENTS_TABLE}">
  <thead>
  <tr>
    <th>Index</th>
    <th>Nazwa Użytkownika</th>
    <th>Klasa</th>
    <th>Aktywny</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="student : ${students}">
    <td><input type="text" th:name="'index'" th:value="${student.index}" readonly /></td>
    <td><input type="text" th:name="'username'" th:value="${student.username}" /></td>
    <td><input type="text" th:name="'classNbr'" th:value="${student.classNbr}" /></td>
    <td>
      <select th:name="'active'">
        <option th:value="true" th:text="'true'" th:selected="${student.active} == true"></option>
        <option th:value="false" th:text="'false'" th:selected="${student.active} == false"></option>
      </select>
    <td>
        <button type="submit">Zapisz zmiany</button>
    </td>
    <input type="hidden" th:name="'userType'" th:value="'student'" />
  </tr>
  </tbody>
</table>

</form>

<h1>Edytuj Nauczycieli</h1>

<p th:if="${error} == 3">Zmodyfikowałeś pole nauczyciela którego nie można modyfikować!</p>

<button onclick=toggleTable("teachersTable")>Pokaż/Ukryj</button>

<br>

<form th:action="'/admin/editUser'" method="post">

  <table th:id="${TEACHERS_TABLE}">
    <thead>
    <tr>
      <th>Index</th>
      <th>Nazwa Użytkownika</th>
      <th>Klasa</th>
      <th>Typ</th>
      <th>Aktywny</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="teacher : ${teachers}">
      <td><input type="text" th:name="'index'" th:value="${teacher.index}" readonly /></td>
      <td><input type="text" th:name="'username'" th:value="${teacher.username}" /></td>
      <td><input type="text" th:name="'classNbr'" th:value="${teacher.classNbr}" /></td>
      <td><input type="text" th:name="'userType'" th:value="${teacher.userType}" /></td>
      <td>
        <select th:name="'active'">
          <option th:value="true" th:text="'true'" th:selected="${teacher.active} == true"></option>
          <option th:value="false" th:text="'false'" th:selected="${teacher.active} == false"></option>
        </select>
      <td>
        <button type="submit">Zapisz zmiany</button>
      </td>
    </tr>
    </tbody>
  </table>

</form>


</body>
</html>
