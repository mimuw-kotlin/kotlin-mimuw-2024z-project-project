<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Edycja wybranego użytkownika</title>
</head>
<body>
<a href="/admin/editUsers">Powrót</a>

<h1>Edytuj Użytkownika</h1>

<form th:action="'/admin/editUser'" method="post">
    <div>
        <label for="index">Index:</label>
        <input type="text" id="index" th:name="'index'" th:value="${user.index}" readonly />
    </div>
    <div>
        <label for="username">Nazwa Użytkownika:</label>
        <input type="text" id="username" th:name="'username'" th:value="${user.username}" />
    </div>
    <div>

        <label for="classNbr">Klasa:</label>
        <select id="classNbr" th:name="'classNbr'">
            <option th:each="class : ${classes}" th:value="${class.classNbr}" th:text="${class.classNbr}" th:selected="${class.classNbr} == ${user.classNbr}"></option>
        </select>
    </div>

    <div th:if="${user.userType} == 'student'">
        <label for="userType">Typ:</label>
        <input type="text" id="userType" th:name="'userType'" th:value="${user.userType}" readonly />
    </div>

    <div th:if="${user.userType} != 'student'">
        <label for="userType">Typ:</label>
        <select id="userType" th:name="'userType'">
            <option th:value="'teacher'" th:text="'teacher'" th:selected="${user.userType} == 'teacher'"></option>
            <option th:value="'headmaster'" th:text="'headmaster'" th:selected="${user.userType} == 'headmaster'"></option>
        </select>
    </div>

    <div th:if="${user.userType} != 'student'">
        <label for="subjectIndex">Typ:</label>
        <select id="subjectIndex" th:name="'subjectIndex'">
            <option th:each="subject : ${subjects}" th:value="${subject.index}" th:text="${subject.name}" th:selected="${subject.index} == ${user.subjectIndex}"></option>
        </select>
    </div>

    <div>
        <label for="active">Aktywny:</label>
        <select id="active" th:name="'active'">
            <option th:value="${true}" th:text="'true'" th:selected="${user.active} == ${true}"></option>
            <option th:value="${false}" th:text="'false'" th:selected="${user.active} == ${false}"></option>
        </select>
    </div>
    <div>
        <button type="submit">Zapisz zmiany</button>
    </div>
</form>

</body>
</html>
